# Prescrypt Test Manager Configuration
# =====================================

[general]
# Default timeout for test execution (seconds)
timeout = 10

# JavaScript runtimes to test against
runtimes = ["quickjs", "node"]

# Python interpreter for reference execution
python = "python3"

[discovery]
# Root directory for test programs (relative to project root)
programs_dir = "programs"

# Glob patterns to include
include = ["internal/**/*.py"]

# Glob patterns to exclude (applied after include)
exclude = [
    "**/__pycache__/**",
    "**/_*.py",           # Convention: underscore prefix = helper module
    "**/conftest.py",
]

[classification]
# Programs that require micropython-specific features
# These are auto-detected but can be manually specified
micropython_only = [
    "micropython/micropython*.py",
    "micropython/nanbox*.py",
    "micropython/attrtuple*.py",
]

# Programs that use CPython features not yet supported by Prescrypt
unsupported_features = [
    "micropython/async_*.py",      # async/await not implemented
    "micropython/import_*.py",     # import system not implemented
]

[manual_overrides]
# Force specific programs to be skipped (never run)
skip = [
    "micropython/string_format2.py",  # Causes memory exhaustion
]

# Force specific programs to be included even if auto-detection would skip them
force_include = []

# Known failures that are acceptable (won't cause CI to fail)
# Use for tracking regressions
known_failures = ["micropython/andor.py", "micropython/annotate_var.py", "micropython/array1.py", "micropython/array_add.py", "micropython/array_construct.py", "micropython/array_construct2.py", "micropython/array_construct_endian.py", "micropython/array_intbig.py", "micropython/assign_expr.py", "micropython/assign_expr_scope.py", "micropython/async_await.py", "micropython/async_await2.py", "micropython/async_def.py", "micropython/async_for.py", "micropython/async_for2.py", "micropython/async_syntaxerror.py", "micropython/async_with.py", "micropython/async_with2.py", "micropython/async_with_break.py", "micropython/async_with_return.py", "micropython/attrtuple1.py", "micropython/attrtuple2.py", "micropython/bool1.py", "micropython/boundmeth1.py", "micropython/builtin_abs_intbig.py", "micropython/builtin_bin_intbig.py", "micropython/builtin_callable.py", "micropython/builtin_chr.py", "micropython/builtin_compile.py", "micropython/builtin_delattr.py", "micropython/builtin_dir.py", "micropython/builtin_divmod.py", "micropython/builtin_divmod_intbig.py", "micropython/builtin_ellipsis.py", "micropython/builtin_enumerate.py", "micropython/builtin_eval.py", "micropython/builtin_eval_buffer.py", "micropython/builtin_eval_error.py", "micropython/builtin_exec.py", "micropython/builtin_exec_buffer.py", "micropython/builtin_hasattr.py", "micropython/builtin_hash.py", "micropython/builtin_hash_gen.py", "micropython/builtin_hash_intbig.py", "micropython/builtin_hex_intbig.py", "micropython/builtin_issubclass.py", "micropython/builtin_locals.py", "micropython/builtin_map.py", "micropython/builtin_minmax.py", "micropython/builtin_next_arg2.py", "micropython/builtin_oct_intbig.py", "micropython/builtin_ord.py", "micropython/builtin_override.py", "micropython/builtin_pow3.py", "micropython/builtin_pow3_intbig.py", "micropython/builtin_print.py", "micropython/builtin_property.py", "micropython/builtin_property_inherit.py", "micropython/builtin_range.py", "micropython/builtin_range_attrs.py", "micropython/builtin_range_binop.py", "micropython/builtin_range_maxsize.py", "micropython/builtin_reversed.py", "micropython/builtin_round_int.py", "micropython/builtin_round_intbig.py", "micropython/builtin_setattr.py", "micropython/builtin_slice.py", "micropython/builtin_sorted.py", "micropython/builtin_str_hex.py", "micropython/builtin_sum.py", "micropython/builtin_super.py", "micropython/builtin_type.py", "micropython/builtin_zip.py", "micropython/bytearray1.py", "micropython/bytearray_add.py", "micropython/bytearray_append.py", "micropython/bytearray_byte_operations.py", "micropython/bytearray_center.py", "micropython/bytearray_construct.py", "micropython/bytearray_construct_array.py", "micropython/bytearray_construct_endian.py", "micropython/bytearray_count.py", "micropython/bytearray_decode.py", "micropython/bytearray_intbig.py", "micropython/bytearray_partition.py", "micropython/bytearray_slice_assign.py", "micropython/bytes_add_array.py", "micropython/bytes_add_bytearray.py", "micropython/bytes_add_endian.py", "micropython/bytes_center.py", "micropython/bytes_compare_array.py", "micropython/bytes_compare_bytearray.py", "micropython/bytes_construct.py", "micropython/bytes_construct_array.py", "micropython/bytes_construct_bytearray.py", "micropython/bytes_construct_endian.py", "micropython/bytes_construct_intbig.py", "micropython/bytes_count.py", "micropython/bytes_find.py", "micropython/bytes_format_modulo.py", "micropython/bytes_mult.py", "micropython/bytes_partition.py", "micropython/bytes_replace.py", "micropython/bytes_split.py", "micropython/bytes_strip.py", "micropython/bytes_subscr.py", "micropython/class1.py", "micropython/class2.py", "micropython/class3.py", "micropython/class_bases.py", "micropython/class_bind_self.py", "micropython/class_binop.py", "micropython/class_call.py", "micropython/class_contains.py", "micropython/class_delattr_setattr.py", "micropython/class_descriptor.py", "micropython/class_dict.py", "micropython/class_getattr.py", "micropython/class_inherit1.py", "micropython/class_inherit_mul.py", "micropython/class_inplace_op.py", "micropython/class_inplace_op2.py", "micropython/class_item.py", "micropython/class_new.py", "micropython/class_notimpl.py", "micropython/class_number.py", "micropython/class_ordereddict.py", "micropython/class_reverse_op.py", "micropython/class_setname_hazard.py", "micropython/class_setname_hazard_rand.py", "micropython/class_staticclassmethod.py", "micropython/class_store.py", "micropython/class_store_class.py", "micropython/class_str.py", "micropython/class_super.py", "micropython/class_super_aslocal.py", "micropython/class_super_multinherit.py", "micropython/class_super_object.py", "micropython/class_use_other.py", "micropython/closure_defargs.py", "micropython/closure_namedarg.py", "micropython/comprehension1.py", "micropython/containment.py", "micropython/del_attr.py", "micropython/del_deref.py", "micropython/del_global.py", "micropython/del_local.py", "micropython/del_name.py", "micropython/del_subscr.py", "micropython/deque1.py", "micropython/deque2.py", "micropython/deque_slice.py", "micropython/dict1.py", "micropython/dict_clear.py", "micropython/dict_construct.py", "micropython/dict_del.py", "micropython/dict_from_iter.py", "micropython/dict_fromkeys.py", "micropython/dict_fromkeys2.py", "micropython/dict_get.py", "micropython/dict_iterator.py", "micropython/dict_pop.py", "micropython/dict_popitem.py", "micropython/dict_setdefault.py", "micropython/dict_specialmeth.py", "micropython/dict_union.py", "micropython/dict_update.py", "micropython/dict_views.py", "micropython/equal.py", "micropython/errno1.py", "micropython/except_match_tuple.py", "micropython/exception1.py", "micropython/exception_chain.py", "micropython/exceptpoly.py", "micropython/exceptpoly2.py", "micropython/floordivide_intbig.py", "micropython/for2.py", "micropython/for_range.py", "micropython/frozenset1.py", "micropython/frozenset_add.py", "micropython/frozenset_binop.py", "micropython/frozenset_copy.py", "micropython/frozenset_difference.py", "micropython/frozenset_set.py", "micropython/fun_annotations.py", "micropython/fun_calldblstar.py", "micropython/fun_calldblstar2.py", "micropython/fun_calldblstar3.py", "micropython/fun_calldblstar4.py", "micropython/fun_callstar.py", "micropython/fun_callstardblstar.py", "micropython/fun_code.py", "micropython/fun_code_colines.py", "micropython/fun_code_full.py", "micropython/fun_code_lnotab.py", "micropython/fun_defargs.py", "micropython/fun_defargs2.py", "micropython/fun_error.py", "micropython/fun_error2.py", "micropython/fun_globals.py", "micropython/fun_kwargs.py", "micropython/fun_kwonly.py", "micropython/fun_kwonlydef.py", "micropython/fun_kwvarargs.py", "micropython/fun_name.py", "micropython/fun_str.py", "micropython/fun_varargs.py", "micropython/gc1.py", "micropython/gen_yield_from.py", "micropython/gen_yield_from_close.py", "micropython/gen_yield_from_ducktype.py", "micropython/gen_yield_from_executing.py", "micropython/gen_yield_from_pending.py", "micropython/gen_yield_from_send.py", "micropython/gen_yield_from_stopped.py", "micropython/gen_yield_from_throw.py", "micropython/gen_yield_from_throw2.py", "micropython/gen_yield_from_throw3.py", "micropython/gen_yield_from_throw_multi_arg.py", "micropython/gen_yield_from_throw_repeat.py", "micropython/generator1.py", "micropython/generator_args.py", "micropython/generator_close.py", "micropython/generator_closure.py", "micropython/generator_exc.py", "micropython/generator_name.py", "micropython/generator_pend_throw.py", "micropython/generator_pep479.py", "micropython/generator_return.py", "micropython/generator_send.py", "micropython/generator_throw.py", "micropython/generator_throw_multi_arg.py", "micropython/generator_throw_nested.py", "micropython/generator_throw_repeat.py", "micropython/getattr.py", "micropython/getitem.py", "micropython/globals_del.py", "micropython/ifcond.py", "micropython/import_instance_method.py", "micropython/int1.py", "micropython/int_64_basics.py", "micropython/int_big1.py", "micropython/int_big_add.py", "micropython/int_big_and.py", "micropython/int_big_and2.py", "micropython/int_big_and3.py", "micropython/int_big_cmp.py", "micropython/int_big_div.py", "micropython/int_big_error.py", "micropython/int_big_lshift.py", "micropython/int_big_mod.py", "micropython/int_big_mul.py", "micropython/int_big_or.py", "micropython/int_big_or2.py", "micropython/int_big_or3.py", "micropython/int_big_pow.py", "micropython/int_big_rshift.py", "micropython/int_big_to_small.py", "micropython/int_big_to_small_int29.py", "micropython/int_big_unary.py", "micropython/int_big_xor.py", "micropython/int_big_xor2.py", "micropython/int_big_xor3.py", "micropython/int_big_zeroone.py", "micropython/int_bytes.py", "micropython/int_bytes_int64.py", "micropython/int_bytes_intbig.py", "micropython/int_constfolding.py", "micropython/int_constfolding_intbig.py", "micropython/int_divmod.py", "micropython/int_divmod_intbig.py", "micropython/int_divzero.py", "micropython/int_intbig.py", "micropython/int_parse.py", "micropython/int_small.py", "micropython/io_bytesio_cow.py", "micropython/io_bytesio_ext.py", "micropython/io_iobase.py", "micropython/io_stringio1.py", "micropython/io_stringio_base.py", "micropython/io_stringio_with.py", "micropython/iter0.py", "micropython/iter1.py", "micropython/iter2.py", "micropython/iter_of_iter.py", "micropython/lambda_defargs.py", "micropython/lexer.py", "micropython/list1.py", "micropython/list_compare.py", "micropython/list_extend.py", "micropython/list_index.py", "micropython/list_mult.py", "micropython/list_remove.py", "micropython/list_slice.py", "micropython/list_slice_3arg.py", "micropython/list_slice_assign.py", "micropython/list_sort.py", "micropython/memoryview1.py", "micropython/memoryview2.py", "micropython/memoryview_gc.py", "micropython/memoryview_intbig.py", "micropython/memoryview_itemsize.py", "micropython/memoryview_slice_assign.py", "micropython/memoryview_slice_size.py", "micropython/module1.py", "micropython/module2.py", "micropython/module_dict.py", "micropython/namedtuple1.py", "micropython/namedtuple_asdict.py", "micropython/nanbox_smallint.py", "micropython/object1.py", "micropython/object_dict.py", "micropython/object_new.py", "micropython/op_error.py", "micropython/op_error_bytearray.py", "micropython/op_error_literal.py", "micropython/op_error_memoryview.py", "micropython/ordereddict1.py", "micropython/ordereddict_eq.py", "micropython/python34.py", "micropython/return1.py", "micropython/scope.py", "micropython/scope_class.py", "micropython/scope_implicit.py", "micropython/self_type_check.py", "micropython/seq_unpack.py", "micropython/set_add.py", "micropython/set_basic.py", "micropython/set_binop.py", "micropython/set_clear.py", "micropython/set_comprehension.py", "micropython/set_containment.py", "micropython/set_copy.py", "micropython/set_difference.py", "micropython/set_discard.py", "micropython/set_intersection.py", "micropython/set_isdisjoint.py", "micropython/set_isfooset.py", "micropython/set_iter_of_iter.py", "micropython/set_pop.py", "micropython/set_remove.py", "micropython/set_specialmeth.py", "micropython/set_symmetric_difference.py", "micropython/set_type.py", "micropython/set_union.py", "micropython/set_unop.py", "micropython/set_update.py", "micropython/slice_attrs.py", "micropython/slice_indices.py", "micropython/slots_bool_len.py", "micropython/special_comparisons.py", "micropython/special_comparisons2.py", "micropython/special_methods.py", "micropython/special_methods2.py", "micropython/special_methods_intbig.py", "micropython/stopiteration.py", "micropython/string1.py", "micropython/string_center.py", "micropython/string_compare.py", "micropython/string_count.py", "micropython/string_cr_conversion.py", "micropython/string_crlf_conversion.py", "micropython/string_endswith.py", "micropython/string_find.py", "micropython/string_format.py", "micropython/string_format_cp310.py", "micropython/string_format_error.py", "micropython/string_format_intbig.py", "micropython/string_format_modulo.py", "micropython/string_format_sep.py", "micropython/string_fstring.py", "micropython/string_fstring_debug.py", "micropython/string_index.py", "micropython/string_join.py", "micropython/string_mult.py", "micropython/string_partition.py", "micropython/string_replace.py", "micropython/string_repr.py", "micropython/string_rfind.py", "micropython/string_rindex.py", "micropython/string_rpartition.py", "micropython/string_rsplit.py", "micropython/string_split.py", "micropython/string_splitlines.py", "micropython/string_startswith.py", "micropython/string_strip.py", "micropython/struct1.py", "micropython/struct1_intbig.py", "micropython/struct2.py", "micropython/struct_endian.py", "micropython/subclass_classmethod.py", "micropython/subclass_native1.py", "micropython/subclass_native2_list.py", "micropython/subclass_native2_tuple.py", "micropython/subclass_native3.py", "micropython/subclass_native4.py", "micropython/subclass_native5.py", "micropython/subclass_native_buffer.py", "micropython/subclass_native_call.py", "micropython/subclass_native_cmp.py", "micropython/subclass_native_containment.py", "micropython/subclass_native_exc_new.py", "micropython/subclass_native_init.py", "micropython/subclass_native_iter.py", "micropython/subclass_native_specmeth.py", "micropython/subclass_native_str.py", "micropython/syntaxerror.py", "micropython/syntaxerror_return.py", "micropython/sys1.py", "micropython/sys_exit.py", "micropython/sys_getsizeof.py", "micropython/sys_path.py", "micropython/sys_stdio.py", "micropython/sys_stdio_buffer.py", "micropython/sys_tracebacklimit.py", "micropython/try2.py", "micropython/try_as_var.py", "micropython/try_else.py", "micropython/try_else_finally.py", "micropython/try_finally1.py", "micropython/try_finally_break.py", "micropython/try_finally_break2.py", "micropython/try_finally_continue.py", "micropython/try_finally_return.py", "micropython/try_finally_return2.py", "micropython/try_finally_return3.py", "micropython/try_finally_return4.py", "micropython/try_return.py", "micropython/tuple1.py", "micropython/tuple_compare.py", "micropython/tuple_index.py", "micropython/tuple_mult.py", "micropython/tuple_slice.py", "micropython/types1.py", "micropython/types2.py", "micropython/unary_op.py", "micropython/unboundlocal.py", "micropython/unpack1.py", "micropython/with1.py", "micropython/with_break.py", "micropython/with_continue.py", "micropython/with_raise.py", "micropython/with_return.py", "tryalgo/arithm_expr_eval.py", "tryalgo/biconnected_components.py", "tryalgo/closest_points.py", "tryalgo/convex_hull.py", "tryalgo/fft.py", "tryalgo/gale_shapley.py", "tryalgo/gauss_jordan.py", "tryalgo/interval_tree.py", "tryalgo/longest_common_subsequence.py", "tryalgo/next_permutation.py", "tryalgo/our_heap.py", "tryalgo/skip_list.py", "tryalgo/strongly_connected_components.py", "tryalgo/union_rectangles.py"]

[reporting]
# Directory for HTML reports
output_dir = "data/reports"

# Number of historical runs to include in trend charts
history_depth = 20
